# Java 多线程
在线程这个概念提出之前，在操作系统中只有进程的概念。进程是操作系统结构的基础；是一次程序的执行。是系统进行资源分配和
调度的一个独立单位。

程序是指序列指令，这些指令可以让 CPU 按照人类指令完成相应的任务。在操作系统中启动一个 JVM 虚拟机就相当于创建了一个进程。

那什么是线程呢？线程是进程中独立运行的子任务，可以共享进程中相同的内存或文件资源。

# Java 线程的使用

## 继承 Thread 类

Java JDK 中包含了对多线程技术的支持。实现多线程编程主要有两种方式：

1. 继承 Thread 类；

2. 实现 Runnable 接口

### 继承 Thread 类

```java
public class ThreadTest {
    public static void main(String[] args) {
        CreateThreadByExtendsThread t = new CreateThreadByExtendsThread();
        t.setName("CreateThreadByExtendsThread"); // 指定线程执行名称
        t.start();  // 耗时较长
        System.out.println("当前线程" + Thread.currentThread().getName() + "执行结束\n" + "当前线程" + t.getName() + "执行结束"); //主线程耗时较短
    }
}
```

多次执行的结果，仔细观察就会发现，输出结果并不是随着调用顺序而输出的。而程序中执行 start方法比较耗时是因为该方法执行了多个步骤。步骤如下：

1. 通过 JVM 告诉操作系统创建 Thread；

2. 通过操作系统开辟内存并使用操作系统 SDK 中的 createThread() 函数创建 Thread 线程对象；

3. 操作系统对 Thread 对象进行调度，以确定执行时机；

4. Thread 在操作系统中被执行成功

以上4个步骤执行完成消耗的时间一定大于 main 方法中的输出时间。而且 main 方法执行 start() 方法时不需要等4个步骤都执行完毕，而是继续执行 start()
方法后面的代码，如果在主线程中直接调用 run 方法，输出顺序就是按照代码顺序输出，此时的 run 方法是由主线程调用的，所以才会按照代码顺序执行。

多线程随机输出的原因是 CPU 将时间片分给不同的线程，线程获得时间片后就开始执行任务，线程获得时间片是随机的，执行输出的顺序自然也是乱序的。

## 实现 Runnable 接口

如果想创建的线程类已经有了一个父类了，那么就不能再继承 Thread 类，此时就需要实现 Runnable 接口来解决这样的问题。